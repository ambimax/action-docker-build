"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=e(require("path")),n=require("fs"),r=e(n),o=e(require("module")),i=e(require("os")),s=e(require("events")),a=e(require("child_process")),u=e(require("util")),l=e(require("assert")),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),p=function(e){if(0<=e&&e<c.length)return c[e];throw new TypeError("Must be between 0 and 63: "+e)},d=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1};var h=function(e){var t,n="",r=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&r,(r>>>=5)>0&&(t|=32),n+=p(t)}while(r>0);return n},f=function(e,t,n){var r,o,i,s,a=e.length,u=0,l=0;do{if(t>=a)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=d(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));r=!!(32&o),u+=(o&=31)<<l,l+=5}while(r);n.value=(s=(i=u)>>1,1==(1&i)?-s:s),n.rest=t},g="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function m(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function v(e,t){return e(t={exports:{}},t.exports),t.exports}var y=v((function(e,t){t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function o(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function i(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function s(e){var n=e,r=o(e);if(r){if(!r.path)return e;n=r.path}for(var s,a=t.isAbsolute(n),u=n.split(/\/+/),l=0,c=u.length-1;c>=0;c--)"."===(s=u[c])?u.splice(c,1):".."===s?l++:l>0&&(""===s?(u.splice(c+1,l),l=0):(u.splice(c,2),l--));return""===(n=u.join("/"))&&(n=a?"/":"."),r?(r.path=n,i(r)):n}function a(e,t){""===e&&(e="."),""===t&&(t=".");var n=o(t),a=o(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),i(n);if(n||t.match(r))return t;if(a&&!a.host&&!a.path)return a.host=t,i(a);var u="/"===t.charAt(0)?t:s(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=u,i(a)):u}t.urlParse=o,t.urlGenerate=i,t.normalize=s,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var r=e.lastIndexOf("/");if(r<0)return t;if((e=e.slice(0,r)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var u=!("__proto__"in Object.create(null));function l(e){return e}function c(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function p(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=u?l:function(e){return c(e)?"$"+e:e},t.fromSetString=u?l:function(e){return c(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var r=p(e.source,t.source);return 0!==r||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)||n||0!==(r=e.generatedColumn-t.generatedColumn)||0!==(r=e.generatedLine-t.generatedLine)?r:p(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var r=e.generatedLine-t.generatedLine;return 0!==r||0!==(r=e.generatedColumn-t.generatedColumn)||n||0!==(r=p(e.source,t.source))||0!==(r=e.originalLine-t.originalLine)||0!==(r=e.originalColumn-t.originalColumn)?r:p(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!==(n=e.generatedColumn-t.generatedColumn)||0!==(n=p(e.source,t.source))||0!==(n=e.originalLine-t.originalLine)||0!==(n=e.originalColumn-t.originalColumn)?n:p(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var r=o(n);if(!r)throw new Error("sourceMapURL could not be parsed");if(r.path){var u=r.path.lastIndexOf("/");u>=0&&(r.path=r.path.substring(0,u+1))}t=a(i(r),t)}return s(t)}})),_=(y.getArg,y.urlParse,y.urlGenerate,y.normalize,y.join,y.isAbsolute,y.relative,y.toSetString,y.fromSetString,y.compareByOriginalPositions,y.compareByGeneratedPositionsDeflated,y.compareByGeneratedPositionsInflated,y.parseSourceMapInput,y.computeSourceURL,Object.prototype.hasOwnProperty),w="undefined"!=typeof Map;function S(){this._array=[],this._set=w?new Map:Object.create(null)}S.fromArray=function(e,t){for(var n=new S,r=0,o=e.length;r<o;r++)n.add(e[r],t);return n},S.prototype.size=function(){return w?this._set.size:Object.getOwnPropertyNames(this._set).length},S.prototype.add=function(e,t){var n=w?e:y.toSetString(e),r=w?this.has(e):_.call(this._set,n),o=this._array.length;r&&!t||this._array.push(e),r||(w?this._set.set(e,o):this._set[n]=o)},S.prototype.has=function(e){if(w)return this._set.has(e);var t=y.toSetString(e);return _.call(this._set,t)},S.prototype.indexOf=function(e){if(w){var t=this._set.get(e);if(t>=0)return t}else{var n=y.toSetString(e);if(_.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},S.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},S.prototype.toArray=function(){return this._array.slice()};var C={ArraySet:S};function E(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}E.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},E.prototype.add=function(e){var t,n,r,o,i,s;t=this._last,n=e,r=t.generatedLine,o=n.generatedLine,i=t.generatedColumn,s=n.generatedColumn,o>r||o==r&&s>=i||y.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},E.prototype.toArray=function(){return this._sorted||(this._array.sort(y.compareByGeneratedPositionsInflated),this._sorted=!0),this._array};var b=C.ArraySet,A={MappingList:E}.MappingList;function O(e){e||(e={}),this._file=y.getArg(e,"file",null),this._sourceRoot=y.getArg(e,"sourceRoot",null),this._skipValidation=y.getArg(e,"skipValidation",!1),this._sources=new b,this._names=new b,this._mappings=new A,this._sourcesContents=null}O.prototype._version=3,O.fromSourceMap=function(e){var t=e.sourceRoot,n=new O({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var r={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(r.source=e.source,null!=t&&(r.source=y.relative(t,r.source)),r.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(r.name=e.name)),n.addMapping(r)})),e.sources.forEach((function(r){var o=r;null!==t&&(o=y.relative(t,r)),n._sources.has(o)||n._sources.add(o);var i=e.sourceContentFor(r);null!=i&&n.setSourceContent(r,i)})),n},O.prototype.addMapping=function(e){var t=y.getArg(e,"generated"),n=y.getArg(e,"original",null),r=y.getArg(e,"source",null),o=y.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,r,o),null!=r&&(r=String(r),this._sources.has(r)||this._sources.add(r)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:r,name:o})},O.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=y.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[y.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[y.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},O.prototype.applySourceMap=function(e,t,n){var r=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');r=e.file}var o=this._sourceRoot;null!=o&&(r=y.relative(o,r));var i=new b,s=new b;this._mappings.unsortedForEach((function(t){if(t.source===r&&null!=t.originalLine){var a=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=a.source&&(t.source=a.source,null!=n&&(t.source=y.join(n,t.source)),null!=o&&(t.source=y.relative(o,t.source)),t.originalLine=a.line,t.originalColumn=a.column,null!=a.name&&(t.name=a.name))}var u=t.source;null==u||i.has(u)||i.add(u);var l=t.name;null==l||s.has(l)||s.add(l)}),this),this._sources=i,this._names=s,e.sources.forEach((function(t){var r=e.sourceContentFor(t);null!=r&&(null!=n&&(t=y.join(n,t)),null!=o&&(t=y.relative(o,t)),this.setSourceContent(t,r))}),this)},O.prototype._validateMapping=function(e,t,n,r){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||r)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:r}))},O.prototype._serializeMappings=function(){for(var e,t,n,r,o=0,i=1,s=0,a=0,u=0,l=0,c="",p=this._mappings.toArray(),d=0,f=p.length;d<f;d++){if(e="",(t=p[d]).generatedLine!==i)for(o=0;t.generatedLine!==i;)e+=";",i++;else if(d>0){if(!y.compareByGeneratedPositionsInflated(t,p[d-1]))continue;e+=","}e+=h(t.generatedColumn-o),o=t.generatedColumn,null!=t.source&&(r=this._sources.indexOf(t.source),e+=h(r-l),l=r,e+=h(t.originalLine-1-a),a=t.originalLine-1,e+=h(t.originalColumn-s),s=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=h(n-u),u=n)),c+=e}return c},O.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=y.relative(t,e));var n=y.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},O.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},O.prototype.toString=function(){return JSON.stringify(this.toJSON())};var x={SourceMapGenerator:O},L=v((function(e,t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,n,r,o){if(0===n.length)return-1;var i=function e(n,r,o,i,s,a){var u=Math.floor((r-n)/2)+n,l=s(o,i[u],!0);return 0===l?u:l>0?r-u>1?e(u,r,o,i,s,a):a==t.LEAST_UPPER_BOUND?r<i.length?r:-1:u:u-n>1?e(n,u,o,i,s,a):a==t.LEAST_UPPER_BOUND?u:n<0?-1:n}(-1,n.length,e,n,r,o||t.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&0===r(n[i],n[i-1],!0);)--i;return i}}));L.GREATEST_LOWER_BOUND,L.LEAST_UPPER_BOUND,L.search;function P(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function M(e,t,n,r){if(n<r){var o=n-1;P(e,(u=n,l=r,Math.round(u+Math.random()*(l-u))),r);for(var i=e[r],s=n;s<r;s++)t(e[s],i)<=0&&P(e,o+=1,s);P(e,o+1,s);var a=o+1;M(e,t,n,a-1),M(e,t,a+1,r)}var u,l}var R=C.ArraySet,N=function(e,t){M(e,t,0,e.length-1)};function T(e,t){var n=e;return"string"==typeof e&&(n=y.parseSourceMapInput(e)),null!=n.sections?new F(n,t):new $(n,t)}T.fromSourceMap=function(e,t){return $.fromSourceMap(e,t)},T.prototype._version=3,T.prototype.__generatedMappings=null,Object.defineProperty(T.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),T.prototype.__originalMappings=null,Object.defineProperty(T.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),T.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},T.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},T.GENERATED_ORDER=1,T.ORIGINAL_ORDER=2,T.GREATEST_LOWER_BOUND=1,T.LEAST_UPPER_BOUND=2,T.prototype.eachMapping=function(e,t,n){var r,o=t||null;switch(n||T.GENERATED_ORDER){case T.GENERATED_ORDER:r=this._generatedMappings;break;case T.ORIGINAL_ORDER:r=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var i=this.sourceRoot;r.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=y.computeSourceURL(i,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,o)},T.prototype.allGeneratedPositionsFor=function(e){var t=y.getArg(e,"line"),n={source:y.getArg(e,"source"),originalLine:t,originalColumn:y.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var r=[],o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",y.compareByOriginalPositions,L.LEAST_UPPER_BOUND);if(o>=0){var i=this._originalMappings[o];if(void 0===e.column)for(var s=i.originalLine;i&&i.originalLine===s;)r.push({line:y.getArg(i,"generatedLine",null),column:y.getArg(i,"generatedColumn",null),lastColumn:y.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o];else for(var a=i.originalColumn;i&&i.originalLine===t&&i.originalColumn==a;)r.push({line:y.getArg(i,"generatedLine",null),column:y.getArg(i,"generatedColumn",null),lastColumn:y.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++o]}return r};var k=T;function $(e,t){var n=e;"string"==typeof e&&(n=y.parseSourceMapInput(e));var r=y.getArg(n,"version"),o=y.getArg(n,"sources"),i=y.getArg(n,"names",[]),s=y.getArg(n,"sourceRoot",null),a=y.getArg(n,"sourcesContent",null),u=y.getArg(n,"mappings"),l=y.getArg(n,"file",null);if(r!=this._version)throw new Error("Unsupported version: "+r);s&&(s=y.normalize(s)),o=o.map(String).map(y.normalize).map((function(e){return s&&y.isAbsolute(s)&&y.isAbsolute(e)?y.relative(s,e):e})),this._names=R.fromArray(i.map(String),!0),this._sources=R.fromArray(o,!0),this._absoluteSources=this._sources.toArray().map((function(e){return y.computeSourceURL(s,e,t)})),this.sourceRoot=s,this.sourcesContent=a,this._mappings=u,this._sourceMapURL=t,this.file=l}function D(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}$.prototype=Object.create(T.prototype),$.prototype.consumer=T,$.prototype._findSourceIndex=function(e){var t,n=e;if(null!=this.sourceRoot&&(n=y.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},$.fromSourceMap=function(e,t){var n=Object.create($.prototype),r=n._names=R.fromArray(e._names.toArray(),!0),o=n._sources=R.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map((function(e){return y.computeSourceURL(n.sourceRoot,e,t)}));for(var i=e._mappings.toArray().slice(),s=n.__generatedMappings=[],a=n.__originalMappings=[],u=0,l=i.length;u<l;u++){var c=i[u],p=new D;p.generatedLine=c.generatedLine,p.generatedColumn=c.generatedColumn,c.source&&(p.source=o.indexOf(c.source),p.originalLine=c.originalLine,p.originalColumn=c.originalColumn,c.name&&(p.name=r.indexOf(c.name)),a.push(p)),s.push(p)}return N(n.__originalMappings,y.compareByOriginalPositions),n},$.prototype._version=3,Object.defineProperty($.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),$.prototype._parseMappings=function(e,t){for(var n,r,o,i,s,a=1,u=0,l=0,c=0,p=0,d=0,h=e.length,g=0,m={},v={},_=[],w=[];g<h;)if(";"===e.charAt(g))a++,g++,u=0;else if(","===e.charAt(g))g++;else{for((n=new D).generatedLine=a,i=g;i<h&&!this._charIsMappingSeparator(e,i);i++);if(o=m[r=e.slice(g,i)])g+=r.length;else{for(o=[];g<i;)f(e,g,v),s=v.value,g=v.rest,o.push(s);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");m[r]=o}n.generatedColumn=u+o[0],u=n.generatedColumn,o.length>1&&(n.source=p+o[1],p+=o[1],n.originalLine=l+o[2],l=n.originalLine,n.originalLine+=1,n.originalColumn=c+o[3],c=n.originalColumn,o.length>4&&(n.name=d+o[4],d+=o[4])),w.push(n),"number"==typeof n.originalLine&&_.push(n)}N(w,y.compareByGeneratedPositionsDeflated),this.__generatedMappings=w,N(_,y.compareByOriginalPositions),this.__originalMappings=_},$.prototype._findMapping=function(e,t,n,r,o,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[r]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[r]);return L.search(e,t,o,i)},$.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},$.prototype.originalPositionFor=function(e){var t={generatedLine:y.getArg(e,"line"),generatedColumn:y.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",y.compareByGeneratedPositionsDeflated,y.getArg(e,"bias",T.GREATEST_LOWER_BOUND));if(n>=0){var r=this._generatedMappings[n];if(r.generatedLine===t.generatedLine){var o=y.getArg(r,"source",null);null!==o&&(o=this._sources.at(o),o=y.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var i=y.getArg(r,"name",null);return null!==i&&(i=this._names.at(i)),{source:o,line:y.getArg(r,"originalLine",null),column:y.getArg(r,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},$.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e})))},$.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var r,o=e;if(null!=this.sourceRoot&&(o=y.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(r=y.urlParse(this.sourceRoot))){var i=o.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!r.path||"/"==r.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(t)return null;throw new Error('"'+o+'" is not in the SourceMap.')},$.prototype.generatedPositionFor=function(e){var t=y.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:y.getArg(e,"line"),originalColumn:y.getArg(e,"column")},r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",y.compareByOriginalPositions,y.getArg(e,"bias",T.GREATEST_LOWER_BOUND));if(r>=0){var o=this._originalMappings[r];if(o.source===n.source)return{line:y.getArg(o,"generatedLine",null),column:y.getArg(o,"generatedColumn",null),lastColumn:y.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}};var I=$;function F(e,t){var n=e;"string"==typeof e&&(n=y.parseSourceMapInput(e));var r=y.getArg(n,"version"),o=y.getArg(n,"sections");if(r!=this._version)throw new Error("Unsupported version: "+r);this._sources=new R,this._names=new R;var i={line:-1,column:0};this._sections=o.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var n=y.getArg(e,"offset"),r=y.getArg(n,"line"),o=y.getArg(n,"column");if(r<i.line||r===i.line&&o<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=n,{generatedOffset:{generatedLine:r+1,generatedColumn:o+1},consumer:new T(y.getArg(e,"map"),t)}}))}F.prototype=Object.create(T.prototype),F.prototype.constructor=T,F.prototype._version=3,Object.defineProperty(F.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),F.prototype.originalPositionFor=function(e){var t={generatedLine:y.getArg(e,"line"),generatedColumn:y.getArg(e,"column")},n=L.search(t,this._sections,(function(e,t){var n=e.generatedLine-t.generatedOffset.generatedLine;return n||e.generatedColumn-t.generatedOffset.generatedColumn})),r=this._sections[n];return r?r.consumer.originalPositionFor({line:t.generatedLine-(r.generatedOffset.generatedLine-1),column:t.generatedColumn-(r.generatedOffset.generatedLine===t.generatedLine?r.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},F.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},F.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var r=this._sections[n].consumer.sourceContentFor(e,!0);if(r)return r}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},F.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer._findSourceIndex(y.getArg(e,"source"))){var r=n.consumer.generatedPositionFor(e);if(r)return{line:r.line+(n.generatedOffset.generatedLine-1),column:r.column+(n.generatedOffset.generatedLine===r.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},F.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var r=this._sections[n],o=r.consumer._generatedMappings,i=0;i<o.length;i++){var s=o[i],a=r.consumer._sources.at(s.source);a=y.computeSourceURL(r.consumer.sourceRoot,a,this._sourceMapURL),this._sources.add(a),a=this._sources.indexOf(a);var u=null;s.name&&(u=r.consumer._names.at(s.name),this._names.add(u),u=this._names.indexOf(u));var l={source:a,generatedLine:s.generatedLine+(r.generatedOffset.generatedLine-1),generatedColumn:s.generatedColumn+(r.generatedOffset.generatedLine===s.generatedLine?r.generatedOffset.generatedColumn-1:0),originalLine:s.originalLine,originalColumn:s.originalColumn,name:u};this.__generatedMappings.push(l),"number"==typeof l.originalLine&&this.__originalMappings.push(l)}N(this.__generatedMappings,y.compareByGeneratedPositionsDeflated),N(this.__originalMappings,y.compareByOriginalPositions)};var U={SourceMapConsumer:k,BasicSourceMapConsumer:I,IndexedSourceMapConsumer:F},B=x.SourceMapGenerator,j=/(\r?\n)/,G="$$$isSourceNode$$$";function W(e,t,n,r,o){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==o?null:o,this[G]=!0,null!=r&&this.add(r)}W.fromStringWithSourceMap=function(e,t,n){var r=new W,o=e.split(j),i=0,s=function(){return e()+(e()||"");function e(){return i<o.length?o[i++]:void 0}},a=1,u=0,l=null;return t.eachMapping((function(e){if(null!==l){if(!(a<e.generatedLine)){var t=(n=o[i]||"").substr(0,e.generatedColumn-u);return o[i]=n.substr(e.generatedColumn-u),u=e.generatedColumn,c(l,t),void(l=e)}c(l,s()),a++,u=0}for(;a<e.generatedLine;)r.add(s()),a++;if(u<e.generatedColumn){var n=o[i]||"";r.add(n.substr(0,e.generatedColumn)),o[i]=n.substr(e.generatedColumn),u=e.generatedColumn}l=e}),this),i<o.length&&(l&&c(l,s()),r.add(o.splice(i).join(""))),t.sources.forEach((function(e){var o=t.sourceContentFor(e);null!=o&&(null!=n&&(e=y.join(n,e)),r.setSourceContent(e,o))})),r;function c(e,t){if(null===e||void 0===e.source)r.add(t);else{var o=n?y.join(n,e.source):e.source;r.add(new W(e.originalLine,e.originalColumn,o,t,e.name))}}},W.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[G]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},W.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[G]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},W.prototype.walk=function(e){for(var t,n=0,r=this.children.length;n<r;n++)(t=this.children[n])[G]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},W.prototype.join=function(e){var t,n,r=this.children.length;if(r>0){for(t=[],n=0;n<r-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},W.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[G]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},W.prototype.setSourceContent=function(e,t){this.sourceContents[y.toSetString(e)]=t},W.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][G]&&this.children[t].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(t=0,n=r.length;t<n;t++)e(y.fromSetString(r[t]),this.sourceContents[r[t]])},W.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},W.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new B(e),r=!1,o=null,i=null,s=null,a=null;return this.walk((function(e,u){t.code+=e,null!==u.source&&null!==u.line&&null!==u.column?(o===u.source&&i===u.line&&s===u.column&&a===u.name||n.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:t.line,column:t.column},name:u.name}),o=u.source,i=u.line,s=u.column,a=u.name,r=!0):r&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,r=!1);for(var l=0,c=e.length;l<c;l++)10===e.charCodeAt(l)?(t.line++,t.column=0,l+1===c?(o=null,r=!1):r&&n.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:t.line,column:t.column},name:u.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}};var q={SourceMapGenerator:x.SourceMapGenerator,SourceMapConsumer:U.SourceMapConsumer,SourceNode:{SourceNode:W}.SourceNode},H=Object.prototype.toString,V="function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from;var z,Q=function(e,t,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return r=e,"ArrayBuffer"===H.call(r).slice(8,-1)?function(e,t,n){t>>>=0;var r=e.byteLength-t;if(r<0)throw new RangeError("'offset' is out of bounds");if(void 0===n)n=r;else if((n>>>=0)>r)throw new RangeError("'length' is out of bounds");return V?Buffer.from(e.slice(t,t+n)):new Buffer(new Uint8Array(e.slice(t,t+n)))}(e,t,n):"string"==typeof e?function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!Buffer.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');return V?Buffer.from(e,t):new Buffer(e,t)}(e,t):V?Buffer.from(e):new Buffer(e);var r},X=q.SourceMapConsumer,J=t;try{(z=r).existsSync&&z.readFileSync||(z=null)}catch(e){}var Z=!1,K=!1,Y=!1,ee="auto",te={},ne={},re=/^data:application\/json[^,]+base64,/,oe=[],ie=[];function se(){return"browser"===ee||"node"!==ee&&("undefined"!=typeof window&&"function"==typeof XMLHttpRequest&&!(window.require&&window.module&&window.process&&"renderer"===window.process.type))}function ae(e){return function(t){for(var n=0;n<e.length;n++){var r=e[n](t);if(r)return r}return null}}var ue=ae(oe);function le(e,t){if(!e)return t;var n=J.dirname(e),r=/^\w+:\/\/[^\/]*/.exec(n),o=r?r[0]:"",i=n.slice(o.length);return o&&/^\/\w\:/.test(i)?(o+="/")+J.resolve(n.slice(o.length),t).replace(/\\/g,"/"):o+J.resolve(n.slice(o.length),t)}oe.push((function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,(function(e,t){return t?"":"/"}))),e in te)return te[e];var t="";try{if(z)z.existsSync(e)&&(t=z.readFileSync(e,"utf8"));else{var n=new XMLHttpRequest;n.open("GET",e,!1),n.send(null),4===n.readyState&&200===n.status&&(t=n.responseText)}}catch(e){}return te[e]=t}));var ce=ae(ie);function pe(e){var t=ne[e.source];if(!t){var n=ce(e.source);n?(t=ne[e.source]={url:n.url,map:new X(n.map)}).map.sourcesContent&&t.map.sources.forEach((function(e,n){var r=t.map.sourcesContent[n];if(r){var o=le(t.url,e);te[o]=r}})):t=ne[e.source]={url:null,map:null}}if(t&&t.map&&"function"==typeof t.map.originalPositionFor){var r=t.map.originalPositionFor(e);if(null!==r.source)return r.source=le(t.url,r.source),r}return e}function de(){var e,t="";if(this.isNative())t="native";else{!(e=this.getScriptNameOrSourceURL())&&this.isEval()&&(t=this.getEvalOrigin(),t+=", "),t+=e||"<anonymous>";var n=this.getLineNumber();if(null!=n){t+=":"+n;var r=this.getColumnNumber();r&&(t+=":"+r)}}var o="",i=this.getFunctionName(),s=!0,a=this.isConstructor();if(!(this.isToplevel()||a)){var u=this.getTypeName();"[object Object]"===u&&(u="null");var l=this.getMethodName();i?(u&&0!=i.indexOf(u)&&(o+=u+"."),o+=i,l&&i.indexOf("."+l)!=i.length-l.length-1&&(o+=" [as "+l+"]")):o+=u+"."+(l||"<anonymous>")}else a?o+="new "+(i||"<anonymous>"):i?o+=i:(o+=t,s=!1);return s&&(o+=" ("+t+")"),o}function he(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(n){t[n]=/^(?:is|get)/.test(n)?function(){return e[n].call(e)}:e[n]})),t.toString=de,t}function fe(e,t){if(void 0===t&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var n=e.getFileName()||e.getScriptNameOrSourceURL();if(n){var r=e.getLineNumber(),o=e.getColumnNumber()-1,i=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/.test(process.version)?0:62;1===r&&o>i&&!se()&&!e.isEval()&&(o-=i);var s=pe({source:n,line:r,column:o});t.curPosition=s;var a=(e=he(e)).getFunctionName;return e.getFunctionName=function(){return null==t.nextPosition?a():t.nextPosition.name||a()},e.getFileName=function(){return s.source},e.getLineNumber=function(){return s.line},e.getColumnNumber=function(){return s.column+1},e.getScriptNameOrSourceURL=function(){return s.source},e}var u=e.isEval()&&e.getEvalOrigin();return u?(u=function e(t){var n=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(t);if(n){var r=pe({source:n[2],line:+n[3],column:n[4]-1});return"eval at "+n[1]+" ("+r.source+":"+r.line+":"+(r.column+1)+")"}return(n=/^eval at ([^(]+) \((.+)\)$/.exec(t))?"eval at "+n[1]+" ("+e(n[2])+")":t}(u),(e=he(e)).getEvalOrigin=function(){return u},e):e}function ge(e,t){Y&&(te={},ne={});for(var n=(e.name||"Error")+": "+(e.message||""),r={nextPosition:null,curPosition:null},o=[],i=t.length-1;i>=0;i--)o.push("\n    at "+fe(t[i],r)),r.nextPosition=r.curPosition;return r.curPosition=r.nextPosition=null,n+o.reverse().join("")}function me(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var n=t[1],r=+t[2],o=+t[3],i=te[n];if(!i&&z&&z.existsSync(n))try{i=z.readFileSync(n,"utf8")}catch(e){i=""}if(i){var s=i.split(/(?:\r\n|\r|\n)/)[r-1];if(s)return n+":"+r+"\n"+s+"\n"+new Array(o).join(" ")+"^"}}return null}function ve(e){var t=me(e);process.stderr._handle&&process.stderr._handle.setBlocking&&process.stderr._handle.setBlocking(!0),t&&(console.error(),console.error(t)),console.error(e.stack),process.exit(1)}ie.push((function(e){var t,n=function(e){var t;if(se())try{var n=new XMLHttpRequest;n.open("GET",e,!1),n.send(null),t=4===n.readyState?n.responseText:null;var r=n.getResponseHeader("SourceMap")||n.getResponseHeader("X-SourceMap");if(r)return r}catch(e){}t=ue(e);for(var o,i,s=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/gm;i=s.exec(t);)o=i;return o?o[1]:null}(e);if(!n)return null;if(re.test(n)){var r=n.slice(n.indexOf(",")+1);t=Q(r,"base64").toString(),n=e}else n=le(e,n),t=ue(n);return t?{url:n,map:t}:null}));oe.slice(0),ie.slice(0);(function(e){if((e=e||{}).environment&&(ee=e.environment,-1===["node","browser","auto"].indexOf(ee)))throw new Error("environment "+ee+" was unknown. Available options are {auto, browser, node}");if(e.retrieveFile&&(e.overrideRetrieveFile&&(oe.length=0),oe.unshift(e.retrieveFile)),e.retrieveSourceMap&&(e.overrideRetrieveSourceMap&&(ie.length=0),ie.unshift(e.retrieveSourceMap)),e.hookRequire&&!se()){var t;try{t=o}catch(e){}var n=t.prototype._compile;n.__sourceMapSupport||(t.prototype._compile=function(e,t){return te[t]=e,ne[t]=void 0,n.call(this,e,t)},t.prototype._compile.__sourceMapSupport=!0)}var r;(Y||(Y="emptyCacheBetweenOperations"in e&&e.emptyCacheBetweenOperations),Z||(Z=!0,Error.prepareStackTrace=ge),K)||(!("handleUncaughtExceptions"in e)||e.handleUncaughtExceptions)&&"object"==typeof process&&null!==process&&"function"==typeof process.on&&(K=!0,r=process.emit,process.emit=function(e){if("uncaughtException"===e){var t=arguments[1]&&arguments[1].stack,n=this.listeners(e).length>0;if(t&&!n)return ve(arguments[1])}return r.apply(this,arguments)})})();var ye=v((function(e,t){var n=g&&g.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});const r=n(i);function o(e,t,n){const o=new s(e,t,n);process.stdout.write(o.toString()+r.EOL)}t.issueCommand=o,t.issue=function(e,t=""){o(e,{},t)};class s{constructor(e,t,n){e||(e="missing.command"),this.command=e,this.properties=t,this.message=n}toString(){let e="::"+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let n=!0;for(const r in this.properties)if(this.properties.hasOwnProperty(r)){const o=this.properties[r];o&&(n?n=!1:e+=",",e+=`${r}=${t=o,(t||"").replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}`)}}var t;return e+=`::${function(e){return(e||"").replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}(this.message)}`,e}}}));m(ye);ye.issueCommand,ye.issue;var _e=v((function(e,n){var r=g&&g.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=g&&g.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(n,"__esModule",{value:!0});const s=o(i),a=o(t);var u;function l(e){ye.issue("error",e)}function c(e){ye.issue("group",e)}function p(){ye.issue("endgroup")}!function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"}(u=n.ExitCode||(n.ExitCode={})),n.exportVariable=function(e,t){process.env[e]=t,ye.issueCommand("set-env",{name:e},t)},n.setSecret=function(e){ye.issueCommand("add-mask",{},e)},n.addPath=function(e){ye.issueCommand("add-path",{},e),process.env.PATH=`${e}${a.delimiter}${process.env.PATH}`},n.getInput=function(e,t){const n=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!n)throw new Error(`Input required and not supplied: ${e}`);return n.trim()},n.setOutput=function(e,t){ye.issueCommand("set-output",{name:e},t)},n.setFailed=function(e){process.exitCode=u.Failure,l(e)},n.isDebug=function(){return"1"===process.env.RUNNER_DEBUG},n.debug=function(e){ye.issueCommand("debug",{},e)},n.error=l,n.warning=function(e){ye.issue("warning",e)},n.info=function(e){process.stdout.write(e+s.EOL)},n.startGroup=c,n.endGroup=p,n.group=function(e,t){return r(this,void 0,void 0,(function*(){let n;c(e);try{n=yield t()}finally{p()}return n}))},n.saveState=function(e,t){ye.issueCommand("save-state",{name:e},t)},n.getState=function(e){return process.env[`STATE_${e}`]||""}})),we=m(_e),Se=(_e.ExitCode,_e.exportVariable,_e.setSecret,_e.addPath,_e.getInput,_e.setOutput,_e.setFailed,_e.isDebug,_e.debug,_e.error,_e.warning,_e.info,_e.startGroup,_e.endGroup,_e.group,_e.saveState,_e.getState,v((function(e,n){var o,i=g&&g.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};function s(e){return(1&e.mode)>0||(8&e.mode)>0&&e.gid===process.getgid()||(64&e.mode)>0&&e.uid===process.getuid()}Object.defineProperty(n,"__esModule",{value:!0}),o=r.promises,n.chmod=o.chmod,n.copyFile=o.copyFile,n.lstat=o.lstat,n.mkdir=o.mkdir,n.readdir=o.readdir,n.readlink=o.readlink,n.rename=o.rename,n.rmdir=o.rmdir,n.stat=o.stat,n.symlink=o.symlink,n.unlink=o.unlink,n.IS_WINDOWS="win32"===process.platform,n.exists=function(e){return i(this,void 0,void 0,(function*(){try{yield n.stat(e)}catch(e){if("ENOENT"===e.code)return!1;throw e}return!0}))},n.isDirectory=function(e,t=!1){return i(this,void 0,void 0,(function*(){return(t?yield n.stat(e):yield n.lstat(e)).isDirectory()}))},n.isRooted=function(e){if(!(e=function(e){if(e=e||"",n.IS_WINDOWS)return(e=e.replace(/\//g,"\\")).replace(/\\\\+/g,"\\");return e.replace(/\/\/+/g,"/")}(e)))throw new Error('isRooted() parameter "p" cannot be empty');return n.IS_WINDOWS?e.startsWith("\\")||/^[A-Z]:/i.test(e):e.startsWith("/")},n.mkdirP=function e(r,o=1e3,s=1){return i(this,void 0,void 0,(function*(){if(l.ok(r,"a path argument must be provided"),r=t.resolve(r),s>=o)return n.mkdir(r);try{return void(yield n.mkdir(r))}catch(i){switch(i.code){case"ENOENT":return yield e(t.dirname(r),o,s+1),void(yield n.mkdir(r));default:{let e;try{e=yield n.stat(r)}catch(e){throw i}if(!e.isDirectory())throw i}}}}))},n.tryGetExecutablePath=function(e,r){return i(this,void 0,void 0,(function*(){let o=void 0;try{o=yield n.stat(e)}catch(t){"ENOENT"!==t.code&&console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${t}`)}if(o&&o.isFile())if(n.IS_WINDOWS){const n=t.extname(e).toUpperCase();if(r.some(e=>e.toUpperCase()===n))return e}else if(s(o))return e;const i=e;for(const a of r){e=i+a,o=void 0;try{o=yield n.stat(e)}catch(t){"ENOENT"!==t.code&&console.log(`Unexpected error attempting to determine if executable file exists '${e}': ${t}`)}if(o&&o.isFile()){if(n.IS_WINDOWS){try{const r=t.dirname(e),o=t.basename(e).toUpperCase();for(const i of yield n.readdir(r))if(o===i.toUpperCase()){e=t.join(r,i);break}}catch(t){console.log(`Unexpected error attempting to determine the actual case of the file '${e}': ${t}`)}return e}if(s(o))return e}}return""}))}})));m(Se);Se.chmod,Se.copyFile,Se.lstat,Se.mkdir,Se.readdir,Se.readlink,Se.rename,Se.rmdir,Se.stat,Se.symlink,Se.unlink,Se.IS_WINDOWS,Se.exists,Se.isDirectory,Se.isRooted,Se.mkdirP,Se.tryGetExecutablePath;var Ce=v((function(e,n){var r=g&&g.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0});const o=u.promisify(a.exec);function i(e){return r(this,void 0,void 0,(function*(){if(Se.IS_WINDOWS){try{(yield Se.isDirectory(e,!0))?yield o(`rd /s /q "${e}"`):yield o(`del /f /a "${e}"`)}catch(e){if("ENOENT"!==e.code)throw e}try{yield Se.unlink(e)}catch(e){if("ENOENT"!==e.code)throw e}}else{let t=!1;try{t=yield Se.isDirectory(e)}catch(e){if("ENOENT"!==e.code)throw e;return}t?yield o(`rm -rf "${e}"`):yield Se.unlink(e)}}))}function s(e){return r(this,void 0,void 0,(function*(){yield Se.mkdirP(e)}))}function l(e,t,n){return r(this,void 0,void 0,(function*(){if((yield Se.lstat(e)).isSymbolicLink()){try{yield Se.lstat(t),yield Se.unlink(t)}catch(e){"EPERM"===e.code&&(yield Se.chmod(t,"0666"),yield Se.unlink(t))}const n=yield Se.readlink(e);yield Se.symlink(n,t,Se.IS_WINDOWS?"junction":null)}else(yield Se.exists(t))&&!n||(yield Se.copyFile(e,t))}))}n.cp=function(e,n,o={}){return r(this,void 0,void 0,(function*(){const{force:i,recursive:a}=function(e){const t=null==e.force||e.force,n=Boolean(e.recursive);return{force:t,recursive:n}}(o),u=(yield Se.exists(n))?yield Se.stat(n):null;if(u&&u.isFile()&&!i)return;const c=u&&u.isDirectory()?t.join(n,t.basename(e)):n;if(!(yield Se.exists(e)))throw new Error(`no such file or directory: ${e}`);if((yield Se.stat(e)).isDirectory()){if(!a)throw new Error(`Failed to copy. ${e} is a directory, but tried to copy without recursive flag.`);yield function e(t,n,o,i){return r(this,void 0,void 0,(function*(){if(o>=255)return;o++,yield s(n);const r=yield Se.readdir(t);for(const s of r){const r=`${t}/${s}`,a=`${n}/${s}`;(yield Se.lstat(r)).isDirectory()?yield e(r,a,o,i):yield l(r,a,i)}yield Se.chmod(n,(yield Se.stat(t)).mode)}))}(e,c,0,i)}else{if(""===t.relative(e,c))throw new Error(`'${c}' and '${e}' are the same file`);yield l(e,c,i)}}))},n.mv=function(e,n,o={}){return r(this,void 0,void 0,(function*(){if(yield Se.exists(n)){let r=!0;if((yield Se.isDirectory(n))&&(n=t.join(n,t.basename(e)),r=yield Se.exists(n)),r){if(null!=o.force&&!o.force)throw new Error("Destination already exists");yield i(n)}}yield s(t.dirname(n)),yield Se.rename(e,n)}))},n.rmRF=i,n.mkdirP=s,n.which=function e(n,o){return r(this,void 0,void 0,(function*(){if(!n)throw new Error("parameter 'tool' is required");if(o){if(!(yield e(n,!1)))throw Se.IS_WINDOWS?new Error(`Unable to locate executable file: ${n}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`):new Error(`Unable to locate executable file: ${n}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`)}try{const e=[];if(Se.IS_WINDOWS&&process.env.PATHEXT)for(const n of process.env.PATHEXT.split(t.delimiter))n&&e.push(n);if(Se.isRooted(n)){const t=yield Se.tryGetExecutablePath(n,e);return t||""}if(n.includes("/")||Se.IS_WINDOWS&&n.includes("\\"))return"";const r=[];if(process.env.PATH)for(const e of process.env.PATH.split(t.delimiter))e&&r.push(e);for(const o of r){const r=yield Se.tryGetExecutablePath(o+t.sep+n,e);if(r)return r}return""}catch(e){throw new Error(`which failed with message ${e.message}`)}}))}}));m(Ce);Ce.cp,Ce.mv,Ce.rmRF,Ce.mkdirP,Ce.which;var Ee=v((function(e,n){var r=g&&g.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0});const o="win32"===process.platform;class u extends s.EventEmitter{constructor(e,t,n){if(super(),!e)throw new Error("Parameter 'toolPath' cannot be null or empty.");this.toolPath=e,this.args=t||[],this.options=n||{}}_debug(e){this.options.listeners&&this.options.listeners.debug&&this.options.listeners.debug(e)}_getCommandString(e,t){const n=this._getSpawnFileName(),r=this._getSpawnArgs(e);let i=t?"":"[command]";if(o)if(this._isCmdFile()){i+=n;for(const e of r)i+=` ${e}`}else if(e.windowsVerbatimArguments){i+=`"${n}"`;for(const e of r)i+=` ${e}`}else{i+=this._windowsQuoteCmdArg(n);for(const e of r)i+=` ${this._windowsQuoteCmdArg(e)}`}else{i+=n;for(const e of r)i+=` ${e}`}return i}_processLineBuffer(e,t,n){try{let r=t+e.toString(),o=r.indexOf(i.EOL);for(;o>-1;){n(r.substring(0,o)),r=r.substring(o+i.EOL.length),o=r.indexOf(i.EOL)}t=r}catch(e){this._debug(`error processing line. Failed with error ${e}`)}}_getSpawnFileName(){return o&&this._isCmdFile()?process.env.COMSPEC||"cmd.exe":this.toolPath}_getSpawnArgs(e){if(o&&this._isCmdFile()){let t=`/D /S /C "${this._windowsQuoteCmdArg(this.toolPath)}`;for(const n of this.args)t+=" ",t+=e.windowsVerbatimArguments?n:this._windowsQuoteCmdArg(n);return t+='"',[t]}return this.args}_endsWith(e,t){return e.endsWith(t)}_isCmdFile(){const e=this.toolPath.toUpperCase();return this._endsWith(e,".CMD")||this._endsWith(e,".BAT")}_windowsQuoteCmdArg(e){if(!this._isCmdFile())return this._uvQuoteCmdArg(e);if(!e)return'""';const t=[" ","\t","&","(",")","[","]","{","}","^","=",";","!","'","+",",","`","~","|","<",">",'"'];let n=!1;for(const r of e)if(t.some(e=>e===r)){n=!0;break}if(!n)return e;let r='"',o=!0;for(let t=e.length;t>0;t--)r+=e[t-1],o&&"\\"===e[t-1]?r+="\\":'"'===e[t-1]?(o=!0,r+='"'):o=!1;return r+='"',r.split("").reverse().join("")}_uvQuoteCmdArg(e){if(!e)return'""';if(!e.includes(" ")&&!e.includes("\t")&&!e.includes('"'))return e;if(!e.includes('"')&&!e.includes("\\"))return`"${e}"`;let t='"',n=!0;for(let r=e.length;r>0;r--)t+=e[r-1],n&&"\\"===e[r-1]?t+="\\":'"'===e[r-1]?(n=!0,t+="\\"):n=!1;return t+='"',t.split("").reverse().join("")}_cloneExecOptions(e){const t={cwd:(e=e||{}).cwd||process.cwd(),env:e.env||process.env,silent:e.silent||!1,windowsVerbatimArguments:e.windowsVerbatimArguments||!1,failOnStdErr:e.failOnStdErr||!1,ignoreReturnCode:e.ignoreReturnCode||!1,delay:e.delay||1e4};return t.outStream=e.outStream||process.stdout,t.errStream=e.errStream||process.stderr,t}_getSpawnOptions(e,t){e=e||{};const n={};return n.cwd=e.cwd,n.env=e.env,n.windowsVerbatimArguments=e.windowsVerbatimArguments||this._isCmdFile(),e.windowsVerbatimArguments&&(n.argv0=`"${t}"`),n}exec(){return r(this,void 0,void 0,(function*(){return!Se.isRooted(this.toolPath)&&(this.toolPath.includes("/")||o&&this.toolPath.includes("\\"))&&(this.toolPath=t.resolve(process.cwd(),this.options.cwd||process.cwd(),this.toolPath)),this.toolPath=yield Ce.which(this.toolPath,!0),new Promise((e,t)=>{this._debug(`exec tool: ${this.toolPath}`),this._debug("arguments:");for(const e of this.args)this._debug(`   ${e}`);const n=this._cloneExecOptions(this.options);!n.silent&&n.outStream&&n.outStream.write(this._getCommandString(n)+i.EOL);const r=new l(n,this.toolPath);r.on("debug",e=>{this._debug(e)});const o=this._getSpawnFileName(),s=a.spawn(o,this._getSpawnArgs(n),this._getSpawnOptions(this.options,o));s.stdout&&s.stdout.on("data",e=>{this.options.listeners&&this.options.listeners.stdout&&this.options.listeners.stdout(e),!n.silent&&n.outStream&&n.outStream.write(e),this._processLineBuffer(e,"",e=>{this.options.listeners&&this.options.listeners.stdline&&this.options.listeners.stdline(e)})});s.stderr&&s.stderr.on("data",e=>{if(r.processStderr=!0,this.options.listeners&&this.options.listeners.stderr&&this.options.listeners.stderr(e),!n.silent&&n.errStream&&n.outStream){(n.failOnStdErr?n.errStream:n.outStream).write(e)}this._processLineBuffer(e,"",e=>{this.options.listeners&&this.options.listeners.errline&&this.options.listeners.errline(e)})}),s.on("error",e=>{r.processError=e.message,r.processExited=!0,r.processClosed=!0,r.CheckComplete()}),s.on("exit",e=>{r.processExitCode=e,r.processExited=!0,this._debug(`Exit code ${e} received from tool '${this.toolPath}'`),r.CheckComplete()}),s.on("close",e=>{r.processExitCode=e,r.processExited=!0,r.processClosed=!0,this._debug(`STDIO streams have closed for tool '${this.toolPath}'`),r.CheckComplete()}),r.on("done",(n,r)=>{"".length>0&&this.emit("stdline",""),"".length>0&&this.emit("errline",""),s.removeAllListeners(),n?t(n):e(r)})})}))}}n.ToolRunner=u,n.argStringToArray=function(e){const t=[];let n=!1,r=!1,o="";function i(e){r&&'"'!==e&&(o+="\\"),o+=e,r=!1}for(let s=0;s<e.length;s++){const a=e.charAt(s);'"'!==a?"\\"===a&&r?i(a):"\\"===a&&n?r=!0:" "!==a||n?i(a):o.length>0&&(t.push(o),o=""):r?i(a):n=!n}return o.length>0&&t.push(o.trim()),t};class l extends s.EventEmitter{constructor(e,t){if(super(),this.processClosed=!1,this.processError="",this.processExitCode=0,this.processExited=!1,this.processStderr=!1,this.delay=1e4,this.done=!1,this.timeout=null,!t)throw new Error("toolPath must not be empty");this.options=e,this.toolPath=t,e.delay&&(this.delay=e.delay)}CheckComplete(){this.done||(this.processClosed?this._setResult():this.processExited&&(this.timeout=setTimeout(l.HandleTimeout,this.delay,this)))}_debug(e){this.emit("debug",e)}_setResult(){let e;this.processExited&&(this.processError?e=new Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`):0===this.processExitCode||this.options.ignoreReturnCode?this.processStderr&&this.options.failOnStdErr&&(e=new Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`)):e=new Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`)),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.done=!0,this.emit("done",e,this.processExitCode)}static HandleTimeout(e){if(!e.done){if(!e.processClosed&&e.processExited){const t=`The STDIO streams did not close within ${e.delay/1e3} seconds of the exit event from process '${e.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;e._debug(t)}e._setResult()}}}}));m(Ee);Ee.ToolRunner,Ee.argStringToArray;var be=v((function(e,t){var n=g&&g.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.exec=function(e,t,r){return n(this,void 0,void 0,(function*(){const n=Ee.argStringToArray(e);if(0===n.length)throw new Error("Parameter 'commandLine' cannot be null or empty.");const o=n[0];return t=n.slice(1).concat(t||[]),new Ee.ToolRunner(o,t,r).exec()}))}})),Ae=m(be);be.exec;(async function(){const e={dockerfile:we.getInput("dockerfile",{required:!1})||"Dockerfile",context:we.getInput("context",{required:!1})||".",tag:we.getInput("tag",{required:!1})||"docker-image:latest",composefile:we.getInput("composefile",{required:!1})||void 0};await async function(e){e.composefile?(n.existsSync(e.composefile)||(we.setFailed(`The provided docker-compose file does not exist: ${e.composefile}`),process.exit(1)),we.startGroup("Build docker-compose file"),await Ae.exec("docker-compose",["-f",e.composefile,"build"]),we.endGroup()):(we.startGroup("Build Dockerfile file"),await Ae.exec("docker",["image","build","-t",e.tag,"-f",e.dockerfile,e.context]),we.endGroup())}(e)})().catch(e=>we.setFailed(String(e)));
//# sourceMappingURL=index.js.map
